function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function n(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}function i(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}import*as r from"three";var o=function(){"use strict";function t(n,r){e(this,t);this.name="element";this.dependencies=[];i(r,HTMLElement)?this.element=r:this.element=document.querySelector(r)}n(t,[{key:"get",value:function e(){return this.element}},{key:"getSize",value:function e(){return{clientWidth:this.element.clientWidth,clientHeight:this.element.clientHeight}}},{key:"appendChild",value:function e(e){this.element.appendChild(e)}}]);return t}();function s(e){var t=function(){e()};window.addEventListener("resize",t,!1)}import a from"three/examples/jsm/libs/stats.module";var l=function(){"use strict";function t(n){e(this,t);this.context=n;this.name="stat";this.dependencies=["element"];this.init()}n(t,[{key:"init",value:function e(){this.context.element&&this.context.options.statEnabled&&(this.stat=new a,this.context.element.appendChild(this.stat.dom))}},{key:"get",value:function e(){return this.stat}},{key:"update",value:function e(){this.stat&&this.stat.update()}}]);return t}();import{OrbitControls as h}from"three/examples/jsm/controls/OrbitControls";var c=function(){"use strict";function t(n){e(this,t);this.context=n;this.name="orbit-controls";this.dependencies=["camera","renderer"];this.init()}n(t,[{key:"init",value:function e(){this.context.options.orbitControlsEnabled&&(this.controller=new h(this.context.camera,this.context.renderer.domElement),this.controller.enableDamping=!0,this.controller.dampingFactor=.05,this.controller.minDistance=1,this.controller.maxDistance=100,this.controller.minPolarAngle=Math.PI/4,this.controller.maxPolarAngle=3*Math.PI/4)}},{key:"get",value:function e(){return this.controller}},{key:"update",value:function e(){this.controller&&this.controller.update()}}]);return t}();import d from"lil-gui";var u=function(){"use strict";function t(n){e(this,t);this.context=n;this.name="gui-controls";this.dependencies=[];this.init()}n(t,[{key:"init",value:function e(){this.context.options.guiControlsEnabled&&(this.gui||(this.gui=new d))}},{key:"get",value:function e(){return this.gui}},{key:"inject",value:function e(e){this.gui&&e&&e(this.gui,this.context)}},{key:"close",value:function e(){this.gui&&this.gui.close()}}]);return t}();var p=function(){"use strict";function t(n,i){e(this,t);this.container=n;this.options=i;this.element=new o(this,n),this.init(),this.stat=new l(this),this.controller=new c(this),this.gui=new u(this)}n(t,[{key:"init",value:function e(){var e=this;var t=this.options,n=t.backgroundColor,i=n===void 0?0:n,o=t.fogColor;this.scene=new r.Scene,this.scene.background=new r.Color(i),o&&(this.scene.fog=new r.Fog(o,1,50));var a=this.element.getSize(),l=a.clientWidth,h=a.clientHeight;this.camera=new r.PerspectiveCamera(75,l/h,.1,100),this.renderer=new r.WebGLRenderer({antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r.PCFSoftShadowMap,this.renderer.setSize(l,h),this.renderer.setClearColor(i),s(function(){var t=e.element.getSize(),n=t.clientWidth,i=t.clientHeight;e.camera.aspect=n/i,e.camera.updateProjectionMatrix(),e.renderer.setSize(n,i)}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.element.appendChild(this.renderer.domElement)}},{key:"animate",value:function e(){var e=this;var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};var n=function(){var i,r;requestAnimationFrame(n),t(),e.renderer.render(e.scene,e.camera),(i=e.stat)===null||i===void 0?void 0:i.update(),(r=e.controller)===null||r===void 0?void 0:r.update()};n()}}]);return t}(),m=p;import*as f from"three";var g=function(){"use strict";function t(n,i,r,o){e(this,t);this.gui=n;this.webGLRenderer=i;this.scene=r;this.camera=o;this.name="WebGLRenderer";this.enum={toneMappingOptions:{None:f.NoToneMapping,Linear:f.LinearToneMapping,Reinhard:f.ReinhardToneMapping,Cineon:f.CineonToneMapping,ACESFilmic:f.ACESFilmicToneMapping,Custom:f.CustomToneMapping},shadowMapping:{Basic:f.BasicShadowMap,PCFS:f.PCFShadowMap,PCFSoft:f.PCFSoftShadowMap,VSM:f.VSMShadowMap},outputEncodings:{}};this.propertyHolder={};this.init()}n(t,[{key:"init",value:function e(){var e=this;this.rendererFolder=this.gui.addFolder(this.name),this.initHolder();var t=this.rendererFolder.addFolder("clearSettings");t.add(this.propertyHolder.clearSettings,"autoClear"),t.addColor(this.propertyHolder.clearSettings,"clearColor"),t.onChange(function(t){var n=t.object,i=n.autoClear,r=n.clearColor;console.log("autoClear, clearColor",i,r),e.webGLRenderer.autoClear=i,e.webGLRenderer.setClearColor(0),e.webGLRenderer.clear()}),this.rendererFolder.close()}},{key:"initHolder",value:function e(){var e=new f.Color;this.webGLRenderer.getClearColor(e),this.propertyHolder={shadowMap:{enabled:this.webGLRenderer.shadowMap.enabled},clearSettings:{autoClear:this.webGLRenderer.autoClear,clearColor:e.getHex()}},console.log(" this.propertyHolder",this.propertyHolder)}},{key:"updateWebGLRendererProperties",value:function e(){this.webGLRenderer.shadowMap.enabled=this.propertyHolder.shadowMap.enabled,this.webGLRenderer.autoClear=this.propertyHolder.clearSettings.autoClear,this.webGLRenderer.setClearColor(this.propertyHolder.clearSettings.clearColor),console.log("===",this.webGLRenderer,this.propertyHolder.clearSettings),this.webGLRenderer.clear()}}]);return t}(),C=g;export{m as InitScene,C as RendererControl};//# sourceMappingURL=threejs-kit.mjs.map