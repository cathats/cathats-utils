"use strict";function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function n(e,n,r){if(n)t(e.prototype,n);if(r)t(e,r);return e}function r(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return!!t[Symbol.hasInstance](e)}else{return e instanceof t}}var i=Object.create;var o=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var s=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var c=function(e,t){for(var n in t)o(e,n,{get:t[n],enumerable:!0})},h=function(e,t,n,r){var i=true,s=false,c=undefined;if(t&&typeof t=="object"||typeof t=="function")try{var h=function(){var i=p.value;!u.call(e,i)&&i!==n&&o(e,i,{get:function(){return t[i]},enumerable:!(r=a(t,i))||r.enumerable})};for(var d=l(t)[Symbol.iterator](),p;!(i=(p=d.next()).done);i=true)h()}catch(e){s=true;c=e}finally{try{if(!i&&d.return!=null){d.return()}}finally{if(s){throw c}}}return e};var d=function(e,t,n){return n=e!=null?i(s(e)):{},h(t||!e||!e.__esModule?o(n,"default",{value:e,enumerable:!0}):n,e)},p=function(e){return h(o({},"__esModule",{value:!0}),e)};var f={};c(f,{InitScene:function(){return x},RendererControl:function(){return L}});module.exports=p(f);var m=d(require("three"));var v=function(){function t(n,i){e(this,t);this.name="element";this.dependencies=[];r(i,HTMLElement)?this.element=i:this.element=document.querySelector(i)}n(t,[{key:"get",value:function e(){return this.element}},{key:"getSize",value:function e(){return{clientWidth:this.element.clientWidth,clientHeight:this.element.clientHeight}}},{key:"appendChild",value:function e(e){this.element.appendChild(e)}}]);return t}();function g(e){var t=function(){e()};window.addEventListener("resize",t,!1)}var b=d(require("three/examples/jsm/libs/stats.module")),y=function(){function t(n){e(this,t);this.context=n;this.name="stat";this.dependencies=["element"];this.init()}n(t,[{key:"init",value:function e(){this.context.element&&this.context.options.statEnabled&&(this.stat=new b.default,this.context.element.appendChild(this.stat.dom))}},{key:"get",value:function e(){return this.stat}},{key:"update",value:function e(){this.stat&&this.stat.update()}}]);return t}();var C=require("three/examples/jsm/controls/OrbitControls"),w=function(){function t(n){e(this,t);this.context=n;this.name="orbit-controls";this.dependencies=["camera","renderer"];this.init()}n(t,[{key:"init",value:function e(){this.context.options.orbitControlsEnabled&&(this.controller=new C.OrbitControls(this.context.camera,this.context.renderer.domElement),this.controller.enableDamping=!0,this.controller.dampingFactor=.05,this.controller.minDistance=1,this.controller.maxDistance=100,this.controller.minPolarAngle=Math.PI/4,this.controller.maxPolarAngle=3*Math.PI/4)}},{key:"get",value:function e(){return this.controller}},{key:"update",value:function e(){this.controller&&this.controller.update()}}]);return t}();var S=d(require("lil-gui")),M=function(){function t(n){e(this,t);this.context=n;this.name="gui-controls";this.dependencies=[];this.init()}n(t,[{key:"init",value:function e(){this.context.options.guiControlsEnabled&&(this.gui||(this.gui=new S.default))}},{key:"get",value:function e(){return this.gui}},{key:"inject",value:function e(e){this.gui&&e&&e(this.gui,this.context)}},{key:"close",value:function e(){this.gui&&this.gui.close()}}]);return t}();var k=function(){function t(n,r){e(this,t);this.container=n;this.options=r;this.element=new v(this,n),this.init(),this.stat=new y(this),this.controller=new w(this),this.gui=new M(this)}n(t,[{key:"init",value:function e(){var e=this;var t=this.options,n=t.backgroundColor,r=n===void 0?0:n,i=t.fogColor;this.scene=new m.Scene,this.scene.background=new m.Color(r),i&&(this.scene.fog=new m.Fog(i,1,50));var o=this.element.getSize(),a=o.clientWidth,l=o.clientHeight;this.camera=new m.PerspectiveCamera(75,a/l,.1,100),this.renderer=new m.WebGLRenderer({antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=m.PCFSoftShadowMap,this.renderer.setSize(a,l),this.renderer.setClearColor(r),g(function(){var t=e.element.getSize(),n=t.clientWidth,r=t.clientHeight;e.camera.aspect=n/r,e.camera.updateProjectionMatrix(),e.renderer.setSize(n,r)}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.element.appendChild(this.renderer.domElement)}},{key:"animate",value:function e(){var e=this;var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};var n=function(){var r,i;requestAnimationFrame(n),t(),e.renderer.render(e.scene,e.camera),(r=e.stat)===null||r===void 0?void 0:r.update(),(i=e.controller)===null||i===void 0?void 0:i.update()};n()}}]);return t}(),x=k;var R=d(require("three")),H=function(){function t(n,r,i,o){e(this,t);this.gui=n;this.webGLRenderer=r;this.scene=i;this.camera=o;this.name="WebGLRenderer";this.enum={toneMappingOptions:{None:R.NoToneMapping,Linear:R.LinearToneMapping,Reinhard:R.ReinhardToneMapping,Cineon:R.CineonToneMapping,ACESFilmic:R.ACESFilmicToneMapping,Custom:R.CustomToneMapping},shadowMapping:{Basic:R.BasicShadowMap,PCFS:R.PCFShadowMap,PCFSoft:R.PCFSoftShadowMap,VSM:R.VSMShadowMap},outputEncodings:{}};this.propertyHolder={};this.init()}n(t,[{key:"init",value:function e(){var e=this;this.rendererFolder=this.gui.addFolder(this.name),this.initHolder();var t=this.rendererFolder.addFolder("clearSettings");t.add(this.propertyHolder.clearSettings,"autoClear"),t.addColor(this.propertyHolder.clearSettings,"clearColor"),t.onChange(function(t){var n=t.object,r=n.autoClear,i=n.clearColor;console.log("autoClear, clearColor",r,i),e.webGLRenderer.autoClear=r,e.webGLRenderer.setClearColor(0),e.webGLRenderer.clear()}),this.rendererFolder.close()}},{key:"initHolder",value:function e(){var e=new R.Color;this.webGLRenderer.getClearColor(e),this.propertyHolder={shadowMap:{enabled:this.webGLRenderer.shadowMap.enabled},clearSettings:{autoClear:this.webGLRenderer.autoClear,clearColor:e.getHex()}},console.log(" this.propertyHolder",this.propertyHolder)}},{key:"updateWebGLRendererProperties",value:function e(){this.webGLRenderer.shadowMap.enabled=this.propertyHolder.shadowMap.enabled,this.webGLRenderer.autoClear=this.propertyHolder.clearSettings.autoClear,this.webGLRenderer.setClearColor(this.propertyHolder.clearSettings.clearColor),console.log("===",this.webGLRenderer,this.propertyHolder.clearSettings),this.webGLRenderer.clear()}}]);return t}(),L=H;0&&(module.exports={InitScene:InitScene,RendererControl:RendererControl});//# sourceMappingURL=threejs-kit.js.map